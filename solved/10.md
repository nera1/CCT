# 택배 배달과 수거하기

[택배 배달과 수거하기](https://school.programmers.co.kr/learn/courses/30/lessons/150369)

## Overview

- Language : JAVA
- Platform : [Programmers](https://school.programmers.co.kr/learn/challenges)
- Difficulty : Lv.2
- Algorithm : Stack
- Taken : 2h
- Rate : 34%

## Solution

```JAVA
import java.util.*;
import java.lang.Math;
class Solution {
    private int count = 0;
    public long solution(int cap, int n, int[] deliveries, int[] pickups) {
        long answer = 0;
        Stack<int[]> dStack = new Stack<>();
        Stack<int[]> pStack = new Stack<>();
        int totalDeliver = 0;
        for(int i = 0; i < deliveries.length; i++) {
            if(deliveries[i] > 0) {
                dStack.push(new int[]{i, deliveries[i]});
                totalDeliver += deliveries[i];
            }
            if(pickups[i] > 0) {
                pStack.push(new int[]{i, pickups[i]});
            }
        }
        while(dStack.size() > 0 || pStack.size() > 0) {
            int dIdx = -1;
            int pIDx = -1;
            if(dStack.size() > 0) {
                dIdx = dStack.peek()[0];
            }
            if(pStack.size() > 0) {
                pIDx = pStack.peek()[0];
            }
            int dist = Math.max(dIdx, pIDx);

            answer += 2*(dist + 1);

            int d = cap <= totalDeliver ? cap : totalDeliver;
            while(dStack.size() > 0 && d > 0) {
                int[] top = dStack.peek();
                int val = top[1];
                if(val > d) {
                    top[1] -= d;
                    d = 0;
                    totalDeliver -= d;
                } else {
                    d -= val;
                    totalDeliver -= val;
                    dStack.pop();
                }
            }
            int p = cap;
            while(pStack.size() > 0 && p > 0) {
                int[] top = pStack.peek();
                int val = top[1];
                if(val > p) {
                    top[1] -= p;
                    p = 0;
                } else {
                    p -= val;
                    pStack.pop();
                }
            }
        }
        return answer;
    }
}
```

- 문제를 이해하는데 많은 시간 소요

# 과제 진행하기

[과제 진행하기](https://school.programmers.co.kr/learn/courses/30/lessons/176962)

## Review

| Date  | Solved |
| :---: | :----: |
| First |   ✅   |

## Overview

- Language : JAVA
- Platform : [Programmers](https://school.programmers.co.kr/learn/challenges)
- Difficulty : Lv.2
- Algorithm : Implementation, Stack
- Taken : 1h 7m
- Rate : 40%

## Solution

```JAVA
import java.util.*;
class Solution {
    private int strToMin(String str) {
        String[] arr = str.split(":");
        return Integer.parseInt(arr[0]) * 60 + Integer.parseInt(arr[1]);
    }
    public String[] solution(String[][] plans) {
        String[] answer = {};
        Stack<String> pause = new Stack<>();
        Map<String, int[]> progress = new HashMap<>();
        Map<Integer, String> map = new HashMap<>();
        List<String> completeList = new ArrayList<>();
        for(String[] plan : plans) {
            String name = plan[0];
            String start = plan[1];
            String pt = plan[2];
            int time = strToMin(start);
            map.put(time, name);
            progress.put(name, new int[]{Integer.parseInt(pt), 0});
        }
        int end = Integer.MAX_VALUE;
        Stack<String> exe = new Stack<>();
        for(int i = 0; i < end; i++) {
            if(completeList.size() == plans.length) {
                break;
            }
            String name = map.get(i);
            if(name != null) {
                // 해당 시각에 시작할 과제가 있을 때
                if(exe.size() == 0) {
                    exe.add(name);
                } else {
                    // 이미 진행중인 과제가 있음
                    String topName = exe.peek();
                    int[] pg = progress.get(topName);
                    pg[1]++;
                    if(pg[0] == pg[1]) {
                        completeList.add(exe.pop());
                    }
                    exe.push(name);
                }
            } else {
                // 해당 시각에 새로 시작할 과제가 없을 떄
                if(exe.size() > 0) {
                    String topName = exe.peek();
                    int[] pg = progress.get(topName);
                    pg[1]++;
                    if(pg[0] == pg[1]) {
                        completeList.add(exe.pop());
                    }
                }
            }
        }
        return completeList.toArray(new String[0]);
    }
}
```

- 시간 종료 시점을 24:00로 하여 틀렸다
- 스택을 잘 활용하자
